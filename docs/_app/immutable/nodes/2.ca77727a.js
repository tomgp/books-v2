import{S as _t,i as vt,s as Mt,J as E,a as Q,K as A,m as _,h as p,c as tt,n as g,L as X,b as R,I as it,k as V,q as C,l as Z,r as D,D as k,g as I,v as Nt,f as Et,d as B,M as At,u as ke,e as L,y as qt,z as Bt,A as zt,B as Lt,p as b}from"../chunks/index.2d29414e.js";import{b as Pe,a as He}from"../chunks/slugger.bb2fe4af.js";function Oe(t){let e,r,n;return{c(){e=E("rect"),r=Q(),n=E("rect"),this.h()},l(i){e=A(i,"rect",{class:!0,stroke:!0,width:!0,height:!0}),_(e).forEach(p),r=tt(i),n=A(i,"rect",{class:!0,fill:!0,width:!0,height:!0}),_(n).forEach(p),this.h()},h(){g(e,"class","book svelte-h2x69a"),g(e,"stroke","none"),g(e,"width",t[0]),g(e,"height",t[1]),X(e,"highlight1",t[2]=="+"),X(e,"highlight2",t[2]=="++"),g(n,"class","book-outline svelte-h2x69a"),g(n,"fill","none"),g(n,"width",t[0]),g(n,"height",t[1]),X(n,"highlight1",t[2]=="+"),X(n,"highlight2",t[2]=="++")},m(i,f){R(i,e,f),R(i,r,f),R(i,n,f)},p(i,[f]){f&1&&g(e,"width",i[0]),f&2&&g(e,"height",i[1]),f&4&&X(e,"highlight1",i[2]=="+"),f&4&&X(e,"highlight2",i[2]=="++"),f&1&&g(n,"width",i[0]),f&2&&g(n,"height",i[1]),f&4&&X(n,"highlight1",i[2]=="+"),f&4&&X(n,"highlight2",i[2]=="++")},i:it,o:it,d(i){i&&p(e),i&&p(r),i&&p(n)}}}function qe(t,e,r){let{width:n=50}=e,{height:i=50}=e,{rating:f=""}=e;return t.$$set=a=>{"width"in a&&r(0,n=a.width),"height"in a&&r(1,i=a.height),"rating"in a&&r(2,f=a.rating)},[n,i,f]}class Be extends _t{constructor(e){super(),vt(this,e,qe,Oe,Mt,{width:0,height:1,rating:2})}}function mt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ze(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _e(t){let e,r,n;t.length!==2?(e=mt,r=(s,o)=>mt(t(s),o),n=(s,o)=>t(s)-o):(e=t===mt||t===ze?t:Le,r=t,n=t);function i(s,o,l=0,h=s.length){if(l<h){if(e(o,o)!==0)return h;do{const u=l+h>>>1;r(s[u],o)<0?l=u+1:h=u}while(l<h)}return l}function f(s,o,l=0,h=s.length){if(l<h){if(e(o,o)!==0)return h;do{const u=l+h>>>1;r(s[u],o)<=0?l=u+1:h=u}while(l<h)}return l}function a(s,o,l=0,h=s.length){const u=i(s,o,l,h-1);return u>l&&n(s[u-1],o)>-n(s[u],o)?u-1:u}return{left:i,center:a,right:f}}function Le(){return 0}function Ce(t){return t===null?NaN:+t}const De=_e(mt),Te=De.right;_e(Ce).center;const Fe=Te;class Kt extends Map{constructor(e,r=Ke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Xt(this,e))}has(e){return super.has(Xt(this,e))}set(e,r){return super.set(Ve(this,e),r)}delete(e){return super.delete(Ze(this,e))}}function Xt({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Ve({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Ze({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Ke(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Xe=Math.sqrt(50),Ye=Math.sqrt(10),$e=Math.sqrt(2);function pt(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),f=n/Math.pow(10,i),a=f>=Xe?10:f>=Ye?5:f>=$e?2:1;let s,o,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),o=Math.round(e*l),s/l<t&&++s,o/l>e&&--o,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),o=Math.round(e/l),s*l<t&&++s,o*l>e&&--o),o<s&&.5<=r&&r<2?pt(t,e,r*2):[s,o,l]}function Ge(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,f,a]=n?pt(e,t,r):pt(t,e,r);if(!(f>=i))return[];const s=f-i+1,o=new Array(s);if(n)if(a<0)for(let l=0;l<s;++l)o[l]=(f-l)/-a;else for(let l=0;l<s;++l)o[l]=(f-l)*a;else if(a<0)for(let l=0;l<s;++l)o[l]=(i+l)/-a;else for(let l=0;l<s;++l)o[l]=(i+l)*a;return o}function It(t,e,r){return e=+e,t=+t,r=+r,pt(t,e,r)[2]}function Je(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?It(e,t,r):It(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Ue(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,f=new Array(i);++n<i;)f[n]=t+n*r;return f}function Ct(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ve(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ot(){}var at=.7,xt=1/at,W="\\s*([+-]?\\d+)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",T="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",We=/^#([0-9a-f]{3,8})$/,Qe=new RegExp(`^rgb\\(${W},${W},${W}\\)$`),tn=new RegExp(`^rgb\\(${T},${T},${T}\\)$`),en=new RegExp(`^rgba\\(${W},${W},${W},${ft}\\)$`),nn=new RegExp(`^rgba\\(${T},${T},${T},${ft}\\)$`),rn=new RegExp(`^hsl\\(${ft},${T},${T}\\)$`),an=new RegExp(`^hsla\\(${ft},${T},${T},${ft}\\)$`),Yt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ct(ot,lt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$t,formatHex:$t,formatHex8:fn,formatHsl:ln,formatRgb:Gt,toString:Gt});function $t(){return this.rgb().formatHex()}function fn(){return this.rgb().formatHex8()}function ln(){return Me(this).formatHsl()}function Gt(){return this.rgb().formatRgb()}function lt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=We.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Jt(e):r===3?new P(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ct(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ct(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qe.exec(t))?new P(e[1],e[2],e[3],1):(e=tn.exec(t))?new P(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=en.exec(t))?ct(e[1],e[2],e[3],e[4]):(e=nn.exec(t))?ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rn.exec(t))?Qt(e[1],e[2]/100,e[3]/100,1):(e=an.exec(t))?Qt(e[1],e[2]/100,e[3]/100,e[4]):Yt.hasOwnProperty(t)?Jt(Yt[t]):t==="transparent"?new P(NaN,NaN,NaN,0):null}function Jt(t){return new P(t>>16&255,t>>8&255,t&255,1)}function ct(t,e,r,n){return n<=0&&(t=e=r=NaN),new P(t,e,r,n)}function on(t){return t instanceof ot||(t=lt(t)),t?(t=t.rgb(),new P(t.r,t.g,t.b,t.opacity)):new P}function Pt(t,e,r,n){return arguments.length===1?on(t):new P(t,e,r,n??1)}function P(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ct(P,Pt,ve(ot,{brighter(t){return t=t==null?xt:Math.pow(xt,t),new P(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?at:Math.pow(at,t),new P(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new P($(this.r),$(this.g),$(this.b),bt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatHex8:sn,formatRgb:Wt,toString:Wt}));function Ut(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}`}function sn(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}${Y((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wt(){const t=bt(this.opacity);return`${t===1?"rgb(":"rgba("}${$(this.r)}, ${$(this.g)}, ${$(this.b)}${t===1?")":`, ${t})`}`}function bt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Y(t){return t=$(t),(t<16?"0":"")+t.toString(16)}function Qt(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new q(t,e,r,n)}function Me(t){if(t instanceof q)return new q(t.h,t.s,t.l,t.opacity);if(t instanceof ot||(t=lt(t)),!t)return new q;if(t instanceof q)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),f=Math.max(e,r,n),a=NaN,s=f-i,o=(f+i)/2;return s?(e===f?a=(r-n)/s+(r<n)*6:r===f?a=(n-e)/s+2:a=(e-r)/s+4,s/=o<.5?f+i:2-f-i,a*=60):s=o>0&&o<1?0:a,new q(a,s,o,t.opacity)}function un(t,e,r,n){return arguments.length===1?Me(t):new q(t,e,r,n??1)}function q(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ct(q,un,ve(ot,{brighter(t){return t=t==null?xt:Math.pow(xt,t),new q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?at:Math.pow(at,t),new q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new P(St(t>=240?t-240:t+120,i,n),St(t,i,n),St(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new q(te(this.h),gt(this.s),gt(this.l),bt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bt(this.opacity);return`${t===1?"hsl(":"hsla("}${te(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function te(t){return t=(t||0)%360,t<0?t+360:t}function gt(t){return Math.max(0,Math.min(1,t||0))}function St(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Dt=t=>()=>t;function hn(t,e){return function(r){return t+r*e}}function cn(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function gn(t){return(t=+t)==1?Ne:function(e,r){return r-e?cn(e,r,t):Dt(isNaN(e)?r:e)}}function Ne(t,e){var r=e-t;return r?hn(t,r):Dt(isNaN(t)?e:t)}const ee=function t(e){var r=gn(e);function n(i,f){var a=r((i=Pt(i)).r,(f=Pt(f)).r),s=r(i.g,f.g),o=r(i.b,f.b),l=Ne(i.opacity,f.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=o(h),i.opacity=l(h),i+""}}return n.gamma=t,n}(1);function dn(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(f){for(i=0;i<r;++i)n[i]=t[i]*(1-f)+e[i]*f;return n}}function mn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pn(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),f=new Array(r),a;for(a=0;a<n;++a)i[a]=Tt(t[a],e[a]);for(;a<r;++a)f[a]=e[a];return function(s){for(a=0;a<n;++a)f[a]=i[a](s);return f}}function xn(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function yt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function bn(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tt(t[i],e[i]):n[i]=e[i];return function(f){for(i in r)n[i]=r[i](f);return n}}var Ht=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rt=new RegExp(Ht.source,"g");function yn(t){return function(){return t}}function wn(t){return function(e){return t(e)+""}}function kn(t,e){var r=Ht.lastIndex=Rt.lastIndex=0,n,i,f,a=-1,s=[],o=[];for(t=t+"",e=e+"";(n=Ht.exec(t))&&(i=Rt.exec(e));)(f=i.index)>r&&(f=e.slice(r,f),s[a]?s[a]+=f:s[++a]=f),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,o.push({i:a,x:yt(n,i)})),r=Rt.lastIndex;return r<e.length&&(f=e.slice(r),s[a]?s[a]+=f:s[++a]=f),s.length<2?o[0]?wn(o[0].x):yn(e):(e=o.length,function(l){for(var h=0,u;h<e;++h)s[(u=o[h]).i]=u.x(l);return s.join("")})}function Tt(t,e){var r=typeof e,n;return e==null||r==="boolean"?Dt(e):(r==="number"?yt:r==="string"?(n=lt(e))?(e=n,ee):kn:e instanceof lt?ee:e instanceof Date?xn:mn(e)?dn:Array.isArray(e)?pn:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bn:yt)(t,e)}function _n(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function vn(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wt(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function et(t){return t=wt(Math.abs(t)),t?t[1]:NaN}function Mn(t,e){return function(r,n){for(var i=r.length,f=[],a=0,s=t[0],o=0;i>0&&s>0&&(o+s+1>n&&(s=Math.max(1,n-o)),f.push(r.substring(i-=s,i+s)),!((o+=s+1)>n));)s=t[a=(a+1)%t.length];return f.reverse().join(e)}}function Nn(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var En=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kt(t){if(!(e=En.exec(t)))throw new Error("invalid format: "+t);var e;return new Ft({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kt.prototype=Ft.prototype;function Ft(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ft.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function An(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Ee;function jn(t,e){var r=wt(t,e);if(!r)return t+"";var n=r[0],i=r[1],f=i-(Ee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return f===a?n:f>a?n+new Array(f-a+1).join("0"):f>0?n.slice(0,f)+"."+n.slice(f):"0."+new Array(1-f).join("0")+wt(t,Math.max(0,e+f-1))[0]}function ne(t,e){var r=wt(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const re={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vn,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ne(t*100,e),r:ne,s:jn,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ie(t){return t}var ae=Array.prototype.map,fe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sn(t){var e=t.grouping===void 0||t.thousands===void 0?ie:Mn(ae.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",f=t.numerals===void 0?ie:Nn(ae.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",o=t.nan===void 0?"NaN":t.nan+"";function l(u){u=kt(u);var c=u.fill,d=u.align,v=u.sign,m=u.symbol,w=u.zero,y=u.width,M=u.comma,S=u.precision,j=u.trim,x=u.type;x==="n"?(M=!0,x="g"):re[x]||(S===void 0&&(S=12),j=!0,x="g"),(w||c==="0"&&d==="=")&&(w=!0,c="0",d="=");var K=m==="$"?r:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",G=m==="$"?n:/[%p]/.test(x)?a:"",nt=re[x],H=/[defgprs%]/.test(x);S=S===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function jt(N){var z=K,O=G,J,Zt,st;if(x==="c")O=nt(N)+O,N="";else{N=+N;var ut=N<0||1/N<0;if(N=isNaN(N)?o:nt(Math.abs(N),S),j&&(N=An(N)),ut&&+N==0&&v!=="+"&&(ut=!1),z=(ut?v==="("?v:s:v==="-"||v==="("?"":v)+z,O=(x==="s"?fe[8+Ee/3]:"")+O+(ut&&v==="("?")":""),H){for(J=-1,Zt=N.length;++J<Zt;)if(st=N.charCodeAt(J),48>st||st>57){O=(st===46?i+N.slice(J+1):N.slice(J))+O,N=N.slice(0,J);break}}}M&&!w&&(N=e(N,1/0));var ht=z.length+N.length+O.length,F=ht<y?new Array(y-ht+1).join(c):"";switch(M&&w&&(N=e(F+N,F.length?y-O.length:1/0),F=""),d){case"<":N=z+N+O+F;break;case"=":N=z+F+N+O;break;case"^":N=F.slice(0,ht=F.length>>1)+z+N+O+F.slice(ht);break;default:N=F+z+N+O;break}return f(N)}return jt.toString=function(){return u+""},jt}function h(u,c){var d=l((u=kt(u),u.type="f",u)),v=Math.max(-8,Math.min(8,Math.floor(et(c)/3)))*3,m=Math.pow(10,-v),w=fe[8+v/3];return function(y){return d(m*y)+w}}return{format:l,formatPrefix:h}}var dt,Ae,je;Rn({thousands:",",grouping:[3],currency:["$",""]});function Rn(t){return dt=Sn(t),Ae=dt.format,je=dt.formatPrefix,dt}function In(t){return Math.max(0,-et(Math.abs(t)))}function Pn(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(et(e)/3)))*3-et(Math.abs(t)))}function Hn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,et(e)-et(t))+1}function Vt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const le=Symbol("implicit");function Se(){var t=new Kt,e=[],r=[],n=le;function i(f){let a=t.get(f);if(a===void 0){if(n!==le)return n;t.set(f,a=e.push(f)-1)}return r[a%r.length]}return i.domain=function(f){if(!arguments.length)return e.slice();e=[],t=new Kt;for(const a of f)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(f){return arguments.length?(r=Array.from(f),i):r.slice()},i.unknown=function(f){return arguments.length?(n=f,i):n},i.copy=function(){return Se(e,r).unknown(n)},Vt.apply(i,arguments),i}function Re(){var t=Se().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,f,a,s=!1,o=0,l=0,h=.5;delete t.unknown;function u(){var c=e().length,d=i<n,v=d?i:n,m=d?n:i;f=(m-v)/Math.max(1,c-o+l*2),s&&(f=Math.floor(f)),v+=(m-v-f*(c-o))*h,a=f*(1-o),s&&(v=Math.round(v),a=Math.round(a));var w=Ue(c).map(function(y){return v+f*y});return r(d?w.reverse():w)}return t.domain=function(c){return arguments.length?(e(c),u()):e()},t.range=function(c){return arguments.length?([n,i]=c,n=+n,i=+i,u()):[n,i]},t.rangeRound=function(c){return[n,i]=c,n=+n,i=+i,s=!0,u()},t.bandwidth=function(){return a},t.step=function(){return f},t.round=function(c){return arguments.length?(s=!!c,u()):s},t.padding=function(c){return arguments.length?(o=Math.min(1,l=+c),u()):o},t.paddingInner=function(c){return arguments.length?(o=Math.min(1,c),u()):o},t.paddingOuter=function(c){return arguments.length?(l=+c,u()):l},t.align=function(c){return arguments.length?(h=Math.max(0,Math.min(1,c)),u()):h},t.copy=function(){return Re(e(),[n,i]).round(s).paddingInner(o).paddingOuter(l).align(h)},Vt.apply(u(),arguments)}function On(t){return function(){return t}}function qn(t){return+t}var oe=[0,1];function U(t){return t}function Ot(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:On(isNaN(e)?NaN:.5)}function Bn(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function zn(t,e,r){var n=t[0],i=t[1],f=e[0],a=e[1];return i<n?(n=Ot(i,n),f=r(a,f)):(n=Ot(n,i),f=r(f,a)),function(s){return f(n(s))}}function Ln(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),f=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Ot(t[a],t[a+1]),f[a]=r(e[a],e[a+1]);return function(s){var o=Fe(t,s,1,n)-1;return f[o](i[o](s))}}function Cn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dn(){var t=oe,e=oe,r=Tt,n,i,f,a=U,s,o,l;function h(){var c=Math.min(t.length,e.length);return a!==U&&(a=Bn(t[0],t[c-1])),s=c>2?Ln:zn,o=l=null,u}function u(c){return c==null||isNaN(c=+c)?f:(o||(o=s(t.map(n),e,r)))(n(a(c)))}return u.invert=function(c){return a(i((l||(l=s(e,t.map(n),yt)))(c)))},u.domain=function(c){return arguments.length?(t=Array.from(c,qn),h()):t.slice()},u.range=function(c){return arguments.length?(e=Array.from(c),h()):e.slice()},u.rangeRound=function(c){return e=Array.from(c),r=_n,h()},u.clamp=function(c){return arguments.length?(a=c?!0:U,h()):a!==U},u.interpolate=function(c){return arguments.length?(r=c,h()):r},u.unknown=function(c){return arguments.length?(f=c,u):f},function(c,d){return n=c,i=d,h()}}function Tn(){return Dn()(U,U)}function Fn(t,e,r,n){var i=Je(t,e,r),f;switch(n=kt(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(f=Pn(i,a))&&(n.precision=f),je(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(f=Hn(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=f-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(f=In(i))&&(n.precision=f-(n.type==="%")*2);break}}return Ae(n)}function Vn(t){var e=t.domain;return t.ticks=function(r){var n=e();return Ge(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Fn(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,f=n.length-1,a=n[i],s=n[f],o,l,h=10;for(s<a&&(l=a,a=s,s=l,l=i,i=f,f=l);h-- >0;){if(l=It(a,s,r),l===o)return n[i]=a,n[f]=s,e(n);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;o=l}return t},t}function Ie(){var t=Tn();return t.copy=function(){return Cn(t,Ie())},Vt.apply(t,arguments),Vn(t)}function rt(t,e,r){this.k=t,this.x=e,this.y=r}rt.prototype={constructor:rt,scale:function(t){return t===1?this:new rt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new rt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};rt.prototype;function se(t,e,r){const n=t.slice();return n[18]=e[r],n[20]=r,n}function ue(t,e,r){const n=t.slice();return n[21]=e[r],n}function he(t){let e,r;return{c(){e=V("h1"),r=C(t[0])},l(n){e=Z(n,"H1",{});var i=_(e);r=D(i,t[0]),i.forEach(p)},m(n,i){R(n,e,i),k(e,r)},p(n,i){i&1&&ke(r,n[0])},d(n){n&&p(e)}}}function ce(t){let e,r,n,i;return r=new Be({props:{width:t[21].width,height:t[21].height,rating:t[21].rating}}),{c(){e=E("g"),qt(r.$$.fragment),this.h()},l(f){e=A(f,"g",{transform:!0});var a=_(e);Bt(r.$$.fragment,a),a.forEach(p),this.h()},h(){g(e,"transform",n="translate("+t[21].x+","+t[21].y+")")},m(f,a){R(f,e,a),zt(r,e,null),i=!0},p(f,a){const s={};a&16&&(s.width=f[21].width),a&16&&(s.height=f[21].height),a&16&&(s.rating=f[21].rating),r.$set(s),(!i||a&16&&n!==(n="translate("+f[21].x+","+f[21].y+")"))&&g(e,"transform",n)},i(f){i||(I(r.$$.fragment,f),i=!0)},o(f){B(r.$$.fragment,f),i=!1},d(f){f&&p(e),Lt(r)}}}function ge(t){let e,r,n=!t[21].ignore&&ce(t);return{c(){n&&n.c(),e=L()},l(i){n&&n.l(i),e=L()},m(i,f){n&&n.m(i,f),R(i,e,f),r=!0},p(i,f){i[21].ignore?n&&(Nt(),B(n,1,1,()=>{n=null}),Et()):n?(n.p(i,f),f&16&&I(n,1)):(n=ce(i),n.c(),I(n,1),n.m(e.parentNode,e))},i(i){r||(I(n),r=!0)},o(i){B(n),r=!1},d(i){n&&n.d(i),i&&p(e)}}}function de(t){let e,r,n,i=t[18][1].key+"",f,a,s,o=t[18][1].books,l=[];for(let u=0;u<o.length;u+=1)l[u]=ge(ue(t,o,u));const h=u=>B(l[u],1,1,()=>{l[u]=null});return{c(){e=E("g");for(let u=0;u<l.length;u+=1)l[u].c();n=E("text"),f=C(i),this.h()},l(u){e=A(u,"g",{class:!0,transform:!0});var c=_(e);for(let v=0;v<l.length;v+=1)l[v].l(c);c.forEach(p),n=A(u,"text",{class:!0,transform:!0});var d=_(n);f=D(d,i),d.forEach(p),this.h()},h(){g(e,"class","stack svelte-82fnjl"),g(e,"transform",r="translate("+t[20]*t[6]/t[5]+",0)"),g(n,"class","stack-title svelte-82fnjl"),g(n,"transform",a="translate("+t[20]*t[6]/t[5]+","+(t[1]-55)+")")},m(u,c){R(u,e,c);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);R(u,n,c),k(n,f),s=!0},p(u,c){if(c&16){o=u[18][1].books;let d;for(d=0;d<o.length;d+=1){const v=ue(u,o,d);l[d]?(l[d].p(v,c),I(l[d],1)):(l[d]=ge(v),l[d].c(),I(l[d],1),l[d].m(e,null))}for(Nt(),d=o.length;d<l.length;d+=1)h(d);Et()}(!s||c&32&&r!==(r="translate("+u[20]*u[6]/u[5]+",0)"))&&g(e,"transform",r),(!s||c&16)&&i!==(i=u[18][1].key+"")&&ke(f,i),(!s||c&34&&a!==(a="translate("+u[20]*u[6]/u[5]+","+(u[1]-55)+")"))&&g(n,"transform",a)},i(u){if(!s){for(let c=0;c<o.length;c+=1)I(l[c]);s=!0}},o(u){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)B(l[c]);s=!1},d(u){u&&p(e),At(l,u),u&&p(n)}}}function Zn(t){let e,r,n,i,f,a,s,o,l,h,u=t[0]!=""&&he(t),c=Object.entries(t[4]),d=[];for(let m=0;m<c.length;m+=1)d[m]=de(se(t,c,m));const v=m=>B(d[m],1,1,()=>{d[m]=null});return{c(){u&&u.c(),e=Q(),r=V("div"),n=E("svg"),i=E("g");for(let m=0;m<d.length;m+=1)d[m].c();s=Q(),o=V("div"),l=C("TOOLTIP!"),this.h()},l(m){u&&u.l(m),e=tt(m),r=Z(m,"DIV",{class:!0});var w=_(r);n=A(w,"svg",{viewBox:!0});var y=_(n);i=A(y,"g",{class:!0,transform:!0});var M=_(i);for(let j=0;j<d.length;j+=1)d[j].l(M);M.forEach(p),y.forEach(p),s=tt(w),o=Z(w,"DIV",{class:!0});var S=_(o);l=D(S,"TOOLTIP!"),S.forEach(p),w.forEach(p),this.h()},h(){g(i,"class","plot"),g(i,"transform",f="translate("+t[3].left+", "+t[3].top+")"),g(n,"viewBox",a="0 0 "+t[2]+" "+t[1]),g(o,"class","tooltip"),g(r,"class","chart svelte-82fnjl")},m(m,w){u&&u.m(m,w),R(m,e,w),R(m,r,w),k(r,n),k(n,i);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(i,null);k(r,s),k(r,o),k(o,l),h=!0},p(m,[w]){if(m[0]!=""?u?u.p(m,w):(u=he(m),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),w&114){c=Object.entries(m[4]);let y;for(y=0;y<c.length;y+=1){const M=se(m,c,y);d[y]?(d[y].p(M,w),I(d[y],1)):(d[y]=de(M),d[y].c(),I(d[y],1),d[y].m(i,null))}for(Nt(),y=c.length;y<d.length;y+=1)v(y);Et()}(!h||w&8&&f!==(f="translate("+m[3].left+", "+m[3].top+")"))&&g(i,"transform",f),(!h||w&6&&a!==(a="0 0 "+m[2]+" "+m[1]))&&g(n,"viewBox",a)},i(m){if(!h){for(let w=0;w<c.length;w+=1)I(d[w]);h=!0}},o(m){d=d.filter(Boolean);for(let w=0;w<d.length;w+=1)B(d[w]);h=!1},d(m){u&&u.d(m),m&&p(e),m&&p(r),At(d,m)}}}let me=3e3;function Kn(t,e,r){let{books:n=[]}=e,{title:i=""}=e,{height:f=350}=e,{width:a=700}=e,{margin:s={top:50,left:0,bottom:20,right:0}}=e,{jitter:o=.18}=e,{minPages:l=100}=e,{splitOnKey:h=x=>"books"}=e,u=[...n].reverse(),c=me,d=f-(s.top+s.bottom),v=a-(s.left+s.right),m={},w=0,y=0,M=Ie(),S=Re();function j([x,K],G){let nt=0;K.key=x,K.books=K.books.map((H,jt)=>{(!H.pages||H.pages=="")&&(H.ignore=!0);let N=S.bandwidth()*o,z=Math.random()*N-N/2;return H.x=0+z,H.width=Math.min(S.bandwidth(),c+z),H.height=M(Math.max(Number(H.pages),l)),nt+=H.height,H.y=d-nt,H})}return t.$$set=x=>{"books"in x&&r(7,n=x.books),"title"in x&&r(0,i=x.title),"height"in x&&r(1,f=x.height),"width"in x&&r(2,a=x.width),"margin"in x&&r(3,s=x.margin),"jitter"in x&&r(8,o=x.jitter),"minPages"in x&&r(9,l=x.minPages),"splitOnKey"in x&&r(10,h=x.splitOnKey)},t.$$.update=()=>{t.$$.dirty&3600&&(u.forEach(x=>{m[h(x)]||r(4,m[h(x)]={pages:0,bookCount:0,books:[]},m),r(4,m[h(x)].pages+=Math.max(Number(x.pages),l),m),w<m[h(x)].pages&&r(11,w=m[h(x)].pages),r(4,m[h(x)].bookCount++,m),m[h(x)].books.push(x)}),r(5,y=Object.keys(m).length)),t.$$.dirty&2064&&(M.domain([0,w]).range([0,d]),S.domain(Object.keys(m)).range([0,v]).paddingInner(.15),c=M(1)*me,Object.entries(m).forEach(j))},[i,f,a,s,m,y,v,n,o,l,h,w]}class Xn extends _t{constructor(e){super(),vt(this,e,Kn,Zn,Mt,{books:7,title:0,height:1,width:2,margin:3,jitter:8,minPages:9,splitOnKey:10})}}function Yn(t){let e,r,n,i,f,a;return{c(){e=E("g"),r=E("path"),n=E("path"),i=E("path"),f=E("path"),a=E("path"),this.h()},l(s){e=A(s,"g",{id:!0});var o=_(e);r=A(o,"path",{d:!0,style:!0,transform:!0}),_(r).forEach(p),n=A(o,"path",{d:!0,style:!0,transform:!0}),_(n).forEach(p),i=A(o,"path",{d:!0,style:!0,transform:!0}),_(i).forEach(p),f=A(o,"path",{d:!0,style:!0,transform:!0}),_(f).forEach(p),a=A(o,"path",{d:!0,style:!0,transform:!0}),_(a).forEach(p),o.forEach(p),this.h()},h(){g(r,"d","m398 174 15-12 14 12"),b(r,"fill","none"),b(r,"stroke","#000"),b(r,"stroke-width","5.66px"),g(r,"transform","matrix(0 -1.41379 1.58333 0 -91.5 767.23)"),g(n,"d","M85 358.04H62"),b(n,"fill","none"),b(n,"stroke","#000"),b(n,"stroke-width","8.5px"),g(n,"transform","translate(108 -174)"),g(i,"d","m398 174 15-12 14 12"),b(i,"fill","none"),b(i,"stroke","#000"),b(i,"stroke-width","5.66px"),g(i,"transform","matrix(0 1.41379 -1.58333 0 392.5 -399.15)"),g(f,"d","M85 358.04H62"),b(f,"fill","none"),b(f,"stroke","#000"),b(f,"stroke-width","8.5px"),g(f,"transform","rotate(180 96.5 271.04)"),g(a,"d","M9 424h67c-2-18.55-17.6-32.87-35.11-33.1C23.33 390.64 11.63 406.07 9 424Z"),b(a,"fill","none"),b(a,"stroke","#000"),b(a,"stroke-width","8.5px"),b(a,"stroke-linejoin","round"),g(a,"transform","translate(108 -174)"),g(e,"id","face1")},m(s,o){R(s,e,o),k(e,r),k(e,n),k(e,i),k(e,f),k(e,a)},d(s){s&&p(e)}}}function $n(t){let e,r,n,i;return{c(){e=E("g"),r=E("path"),n=E("path"),i=E("path"),this.h()},l(f){e=A(f,"g",{id:!0});var a=_(e);r=A(a,"path",{d:!0,style:!0,transform:!0}),_(r).forEach(p),n=A(a,"path",{d:!0,style:!0,transform:!0}),_(n).forEach(p),i=A(a,"path",{d:!0,style:!0,transform:!0}),_(i).forEach(p),a.forEach(p),this.h()},h(){g(r,"d","m398 174 15-12 14 12"),b(r,"fill","none"),b(r,"stroke","#000"),b(r,"stroke-width","8.5px"),g(r,"transform","rotate(-180 296.25 175.73)"),g(n,"d","m398 174 15-12 14 12"),b(n,"fill","none"),b(n,"stroke","#000"),b(n,"stroke-width","8.5px"),g(n,"transform","rotate(-180 266.75 175.73)"),g(i,"d","m39 234 11.77-11.76H92l12.26 12.25"),b(i,"fill","none"),b(i,"stroke","#000"),b(i,"stroke-width","8.5px"),g(i,"transform","translate(78.5 5.45)"),g(e,"id","face2")},m(f,a){R(f,e,a),k(e,r),k(e,n),k(e,i)},d(f){f&&p(e)}}}function pe(t){let e,r,n,i;return{c(){e=E("g"),r=E("path"),n=E("path"),i=E("path"),this.h()},l(f){e=A(f,"g",{id:!0});var a=_(e);r=A(a,"path",{d:!0,style:!0,transform:!0}),_(r).forEach(p),n=A(a,"path",{d:!0,style:!0,transform:!0}),_(n).forEach(p),i=A(a,"path",{d:!0,style:!0,transform:!0}),_(i).forEach(p),a.forEach(p),this.h()},h(){g(r,"d","M193 98h27"),b(r,"fill","none"),b(r,"stroke","#000"),b(r,"stroke-width","8.5px"),g(r,"transform","translate(-86.5 85.94)"),g(n,"d","M193 98h27"),b(n,"fill","none"),b(n,"stroke","#000"),b(n,"stroke-width","8.5px"),g(n,"transform","translate(-28.5 85.94)"),g(i,"d","M225 154h17.62c8.54.32 21.01-8.4 20.88-18.49V128"),b(i,"fill","none"),b(i,"stroke","#000"),b(i,"stroke-width","8.5px"),g(i,"transform","translate(-86.5 85.94)"),g(e,"id","face3")},m(f,a){R(f,e,a),k(e,r),k(e,n),k(e,i)},d(f){f&&p(e)}}}function Gn(t){let e,r,n,i;return{c(){e=E("g"),r=E("path"),n=E("path"),i=E("path"),this.h()},l(f){e=A(f,"g",{id:!0});var a=_(e);r=A(a,"path",{d:!0,style:!0,transform:!0}),_(r).forEach(p),n=A(a,"path",{d:!0,style:!0,transform:!0}),_(n).forEach(p),i=A(a,"path",{d:!0,style:!0,transform:!0}),_(i).forEach(p),a.forEach(p),this.h()},h(){g(r,"d","M411 209c8.57 7.72 22.17 10.13 31.07 10.5 9.94.43 22.14-2.44 31.93-11.5"),b(r,"fill","none"),b(r,"stroke","#000"),b(r,"stroke-width","8.5px"),b(r,"stroke-linejoin","bevel"),g(r,"transform","translate(-294.5 17.93)"),g(n,"d","m398 174 15-12 14 12"),b(n,"fill","none"),b(n,"stroke","#000"),b(n,"stroke-width","8.5px"),g(n,"transform","translate(-294.5 17.93)"),g(i,"d","m398 174 15-12 14 12"),b(i,"fill","none"),b(i,"stroke","#000"),b(i,"stroke-width","8.5px"),g(i,"transform","translate(-235.5 17.93)"),g(e,"id","face4")},m(f,a){R(f,e,a),k(e,r),k(e,n),k(e,i)},d(f){f&&p(e)}}}function Jn(t){let e,r,n,i;return{c(){e=E("g"),r=E("path"),n=E("path"),i=E("path"),this.h()},l(f){e=A(f,"g",{id:!0});var a=_(e);r=A(a,"path",{d:!0,transform:!0}),_(r).forEach(p),n=A(a,"path",{d:!0,transform:!0}),_(n).forEach(p),i=A(a,"path",{d:!0,style:!0,transform:!0}),_(i).forEach(p),a.forEach(p),this.h()},h(){g(r,"d","M321.5 316.37c7.7-4.22 16.93-2.19 22.3 2.92 6.46 6.13 8.45 18.32 2.05 30.58-3.46 6.91-11.88 14.13-19.15 18.73a9.7 9.7 0 0 1-10.4 0c-7.27-4.6-15.7-11.82-19.14-18.71-6.4-12.27-4.42-24.46 2.04-30.6 5.37-5.1 14.6-7.14 22.3-2.92Zm0 14.03c-3.9-7.4-11.68-7.4-15.58-3.7-3.9 3.7-3.9 11.1 0 18.5 2.73 5.55 9.74 11.1 15.58 14.8 5.84-3.7 12.85-9.25 15.58-14.8 3.9-7.4 3.9-14.8 0-18.5-3.9-3.7-11.69-3.7-15.58 3.7Z"),g(r,"transform","matrix(.86 0 0 .84045 -158.8 -101.9)"),g(n,"d","M321.5 316.37c7.7-4.22 16.93-2.19 22.3 2.92 6.46 6.13 8.45 18.32 2.05 30.58-3.46 6.91-11.88 14.13-19.15 18.73a9.7 9.7 0 0 1-10.4 0c-7.27-4.6-15.7-11.82-19.14-18.71-6.4-12.27-4.42-24.46 2.04-30.6 5.37-5.1 14.6-7.14 22.3-2.92Zm0 14.03c-3.9-7.4-11.68-7.4-15.58-3.7-3.9 3.7-3.9 11.1 0 18.5 2.73 5.55 9.74 11.1 15.58 14.8 5.84-3.7 12.85-9.25 15.58-14.8 3.9-7.4 3.9-14.8 0-18.5-3.9-3.7-11.69-3.7-15.58 3.7Z"),g(n,"transform","matrix(.86 0 0 .84045 -96.2 -101.9)"),g(i,"d","M303.5 362h63a173.4 173.4 0 0 1-31.65 28.77c-14.65-10.9-24.53-20.32-31.35-28.77Z"),b(i,"fill","none"),b(i,"stroke","#000"),b(i,"stroke-width","8.5px"),b(i,"stroke-linecap","square"),b(i,"stroke-linejoin","bevel"),g(i,"transform","translate(-186.21 -137.53)"),g(e,"id","face5")},m(f,a){R(f,e,a),k(e,r),k(e,n),k(e,i)},d(f){f&&p(e)}}}function Un(t){let e,r,n,i,f,a,s,o=t[1]==1&&Yn(),l=t[1]==2&&$n(),h=t[1]==3&&t[0]&&pe(),u=t[1]==4&&Gn(),c=t[1]==5&&Jn();return{c(){e=E("svg"),r=E("g"),n=E("path"),o&&o.c(),i=L(),l&&l.c(),f=L(),h&&h.c(),a=L(),u&&u.c(),s=L(),c&&c.c(),this.h()},l(d){e=A(d,"svg",{xmlns:!0,"xml:space":!0,style:!0,viewBox:!0,class:!0});var v=_(e);r=A(v,"g",{id:!0,transform:!0});var m=_(r);n=A(m,"path",{d:!0,style:!0}),_(n).forEach(p),o&&o.l(m),i=L(),l&&l.l(m),f=L(),h&&h.l(m),a=L(),u&&u.l(m),s=L(),c&&c.l(m),m.forEach(p),v.forEach(p),this.h()},h(){g(n,"d","M87 152h125v115H87z"),b(n,"fill","none"),g(r,"id","Artboard1"),g(r,"transform","translate(-87 -152)"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"xml:space","preserve"),b(e,"fill-rule","evenodd"),b(e,"clip-rule","evenodd"),b(e,"stroke-miterlimit","1.5"),g(e,"viewBox","0 0 125 115"),g(e,"class","svelte-1pngvtu")},m(d,v){R(d,e,v),k(e,r),k(r,n),o&&o.m(r,null),k(r,i),l&&l.m(r,null),k(r,f),h&&h.m(r,null),k(r,a),u&&u.m(r,null),k(r,s),c&&c.m(r,null)},p(d,[v]){d[1]==3&&d[0]?h||(h=pe(),h.c(),h.m(r,a)):h&&(h.d(1),h=null)},i:it,o:it,d(d){d&&p(e),o&&o.d(),l&&l.d(),h&&h.d(),u&&u.d(),c&&c.d()}}}function Wn(t){let e={"++":5,"+":4,"-":2,"--":1};return e[t]?e[t]:3}function Qn(t,e,r){let{rating:n=""}=e,{showAverage:i=!0}=e,f=Wn(n);return t.$$set=a=>{"rating"in a&&r(2,n=a.rating),"showAverage"in a&&r(0,i=a.showAverage)},[i,f,n]}class tr extends _t{constructor(e){super(),vt(this,e,Qn,Un,Mt,{rating:2,showAverage:0})}}function xe(t,e,r){const n=t.slice();return n[3]=e[r],n}function be(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function ye(t){let e,r=t[6]+"",n,i=t[8]==t[3].authors.length-1?"":", ",f;return{c(){e=V("a"),n=C(r),f=C(i),this.h()},l(a){e=Z(a,"A",{href:!0,class:!0});var s=_(e);n=D(s,r),s.forEach(p),f=D(a,i),this.h()},h(){g(e,"href","author-"+He(t[6])),g(e,"class","svelte-o99khc")},m(a,s){R(a,e,s),k(e,n),R(a,f,s)},p:it,d(a){a&&p(e),a&&p(f)}}}function we(t){let e,r,n,i,f,a,s=t[3].title+"",o,l,h,u=t[3].published+"",c,d,v,m;n=new tr({props:{rating:t[3].rating,showAverage:!1}});let w=t[3].authors,y=[];for(let M=0;M<w.length;M+=1)y[M]=ye(be(t,w,M));return{c(){e=V("li"),r=V("div"),qt(n.$$.fragment),i=Q(),f=V("div"),a=V("a"),o=C(s),l=C(` 
					—
				`);for(let M=0;M<y.length;M+=1)y[M].c();h=C(`
				(`),c=C(u),d=C(")"),v=Q(),this.h()},l(M){e=Z(M,"LI",{class:!0});var S=_(e);r=Z(S,"DIV",{class:!0});var j=_(r);Bt(n.$$.fragment,j),j.forEach(p),i=tt(S),f=Z(S,"DIV",{class:!0});var x=_(f);a=Z(x,"A",{href:!0,class:!0});var K=_(a);o=D(K,s),K.forEach(p),l=D(x,` 
					—
				`);for(let G=0;G<y.length;G+=1)y[G].l(x);h=D(x,`
				(`),c=D(x,u),d=D(x,")"),x.forEach(p),v=tt(S),S.forEach(p),this.h()},h(){g(r,"class","icon svelte-o99khc"),g(a,"href","book-"+Pe(t[3])),g(a,"class","svelte-o99khc"),g(f,"class","details svelte-o99khc"),g(e,"class","svelte-o99khc")},m(M,S){R(M,e,S),k(e,r),zt(n,r,null),k(e,i),k(e,f),k(f,a),k(a,o),k(f,l);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(f,null);k(f,h),k(f,c),k(f,d),k(e,v),m=!0},p(M,S){if(S&1){w=M[3].authors;let j;for(j=0;j<w.length;j+=1){const x=be(M,w,j);y[j]?y[j].p(x,S):(y[j]=ye(x),y[j].c(),y[j].m(f,h))}for(;j<y.length;j+=1)y[j].d(1);y.length=w.length}},i(M){m||(I(n.$$.fragment,M),m=!0)},o(M){B(n.$$.fragment,M),m=!1},d(M){M&&p(e),Lt(n),At(y,M)}}}function er(t){let e,r,n,i;e=new Xn({props:{splitOnKey:t[2],books:t[0]}});let f=t[0],a=[];for(let o=0;o<f.length;o+=1)a[o]=we(xe(t,f,o));const s=o=>B(a[o],1,1,()=>{a[o]=null});return{c(){qt(e.$$.fragment),r=Q(),n=V("ul");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){Bt(e.$$.fragment,o),r=tt(o),n=Z(o,"UL",{class:!0});var l=_(n);for(let h=0;h<a.length;h+=1)a[h].l(l);l.forEach(p),this.h()},h(){g(n,"class","svelte-o99khc")},m(o,l){zt(e,o,l),R(o,r,l),R(o,n,l);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(n,null);i=!0},p(o,[l]){if(l&1){f=o[0];let h;for(h=0;h<f.length;h+=1){const u=xe(o,f,h);a[h]?(a[h].p(u,l),I(a[h],1)):(a[h]=we(u),a[h].c(),I(a[h],1),a[h].m(n,null))}for(Nt(),h=f.length;h<a.length;h+=1)s(h);Et()}},i(o){if(!i){I(e.$$.fragment,o);for(let l=0;l<f.length;l+=1)I(a[l]);i=!0}},o(o){B(e.$$.fragment,o),a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)B(a[l]);i=!1},d(o){Lt(e,o),o&&p(r),o&&p(n),At(a,o)}}}function nr(t,e,r){let{data:n}=e,i=n.readingList.filter(a=>a.date).reverse();const f=a=>String(a.date).split("-")[0];return t.$$set=a=>{"data"in a&&r(1,n=a.data)},[i,n,f]}class ar extends _t{constructor(e){super(),vt(this,e,nr,er,Mt,{data:1})}}export{ar as component};
